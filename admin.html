<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Admin – Liberação de Usuários</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1>Admin – Liberação de Usuários</h1>
</header>

<section class="card">
  <h2>Login do Trader</h2>
  <form id="loginForm">
    <label for="adminEmail">Email:</label>
    <input type="email" id="adminEmail" required>

    <label for="adminSenha">Senha:</label>
    <input type="password" id="adminSenha" required>

    <button type="submit" class="btn">Entrar</button>
  </form>

  <div id="userSection" style="display:none;">
    <h2>Buscar Usuário</h2>
    <label for="userEmail">Email do usuário:</label>
    <input type="email" id="userEmail" placeholder="email@usuario.com">
    <button id="liberarBtn" class="btn">Liberar Acesso</button>
    <p id="status"></p>
  </div>
</section>

<script>
const loginForm = document.getElementById('loginForm');
const userSection = document.getElementById('userSection');
const status = document.getElementById('status');

const adminDados = {
  email: 'trader@seuemail.com',
  senha: '123456'
};

loginForm.addEventListener('submit', function(e){
  e.preventDefault();
  const email = document.getElementById('adminEmail').value;
  const senha = document.getElementById('adminSenha').value;

  if(email === adminDados.email && senha === adminDados.senha){
    loginForm.style.display = 'none';
    userSection.style.display = 'block';
  } else {
    alert('Email ou senha incorretos');
  }
});

document.getElementById('liberarBtn').addEventListener('click', function(){
  const userEmail = document.getElementById('userEmail').value.trim();
  if(!userEmail){
    alert('Digite o email do usuário');
    return;
  }

  let liberados = JSON.parse(localStorage.getItem('usuariosLiberados')) || [];
  if(!liberados.includes(userEmail)){
    liberados.push(userEmail);
    localStorage.setItem('usuariosLiberados', JSON.stringify(liberados));
    status.textContent = `Acesso liberado para: ${userEmail}`;
  } else {
    status.textContent = `${userEmail} já possui acesso liberado.`;
  }

  document.getElementById('userEmail').value = '';
});
</script>

</body>
</html>
