<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Painel do Trader</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="module" src="supabase.js"></script>
<style>
body{font-family:Arial,sans-serif;background:#0f172a;color:#e5e7eb;padding:20px}
</style>
</head>
<body>
<h2>Painel do Trader</h2>
<div id="operacoes"></div>

<script type="module">
import { supabase } from './supabase.js'

const session = JSON.parse(localStorage.getItem('session'))

async function carregarOperacoes(){
  const { data } = await supabase
    .from('operacoes')
    .select('*')
    .eq('user_id', session.id)
  let html = '<h3>Operações:</h3>'
  data.forEach(o => {
    html += `<p>Valor: R$ ${o.valor} | Resultado: R$ ${o.resultado} | Data: ${new Date(o.data).toLocaleString()}</p>`
  })
  document.getElementById('operacoes').innerHTML = html
}

carregarOperacoes()
</script>
</body>
</html>
