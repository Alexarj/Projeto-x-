<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Plano A – Alertas Esportivos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<script>
const usuarioEmail = prompt("Digite seu email cadastrado para acessar os alertas:");
const liberados = JSON.parse(localStorage.getItem('usuariosLiberados')) || [];
if(!liberados.includes(usuarioEmail)){
  alert("Acesso não liberado. Envie o comprovante e aguarde a liberação.");
  window.location.href = "pagamento.html";
}
</script>

<header>
  <h1>Plano A – Alertas Esportivos</h1>
</header>

<section id="alertasContainer" class="card">
  <h2>Alertas Disponíveis</h2>
</section>

<script>
const alertasContainer = document.getElementById('alertasContainer');
let alertas = JSON.parse(localStorage.getItem('alertas')) || [];
let agora = new Date();

let alertasParaMostrar = alertas.filter(a => {
  let inicio = new Date(a.inicio);
  let diffHoras = (inicio - agora) / (1000 * 60 * 60);
  return diffHoras <= 1 && diffHoras >= 0; // até 1 hora antes ou dentro da hora
});

alertasParaMostrar.forEach(a => {
  const card = document.createElement('div');
  card.className = 'card alerta';
  card.innerHTML = `
    <h3>${a.jogo}</h3>
    <p>Oportunidade: ${a.tipo}</p>
    <p>Odds sugerida: ${a.odd}</p>
    <p>${a.aviso}</p>
  `;
  alertasContainer.appendChild(card);
});
</script>

</body>
</html>
